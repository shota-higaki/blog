# テスト戦略

## 概要

このプロジェクトでは、品質保証のために以下の種類のテストを実装します：

1. **ユニットテスト** - 個別のコンポーネントや関数のテスト
2. **統合テスト** - コンポーネント間の連携テスト
3. **E2Eテスト** - ユーザー視点での機能テスト
4. **ビジュアルリグレッションテスト** - UIの視覚的な変更検知

## テスト対象

### 1. コアコンポーネント
- [ ] BaseHead - メタタグ生成
- [ ] StructuredData - JSON-LD生成
- [ ] ThemeToggle - ダークモード切替
- [ ] FormattedDate - 日付フォーマット
- [ ] HeaderLink - アクティブ状態管理

### 2. ページ機能
- [ ] ホームページリダイレクト
- [ ] 記事一覧の表示とフィルタリング
- [ ] 個別記事の表示
- [ ] 404ページの表示とアニメーション
- [ ] OG画像の動的生成
- [ ] RSSフィードの生成

### 3. SEO/パフォーマンス
- [ ] メタタグの適切な設定
- [ ] 構造化データの妥当性
- [ ] Service Workerの動作
- [ ] キャッシング戦略
- [ ] オフラインページの表示

### 4. セキュリティ
- [ ] セキュリティヘッダーの設定
- [ ] 機密情報の検出
- [ ] CSPポリシーの動作

### 5. アクセシビリティ
- [ ] キーボードナビゲーション
- [ ] スクリーンリーダー対応
- [ ] カラーコントラスト
- [ ] フォーカス管理
- [ ] スキップリンク

### 6. レスポンシブデザイン
- [ ] モバイル表示
- [ ] タブレット表示
- [ ] デスクトップ表示

## テストツール

- **Vitest** - ユニットテスト・統合テスト
- **Playwright** - E2Eテスト
- **axe-playwright** - アクセシビリティテスト
- **@percy/playwright** - ビジュアルリグレッションテスト（オプション）

## ディレクトリ構成

```
tests/
├── unit/          # ユニットテスト
├── integration/   # 統合テスト
├── e2e/          # E2Eテスト
├── fixtures/     # テストデータ
└── utils/        # テストユーティリティ
```

## 実行方法

```bash
# すべてのテスト
bun run test:all

# ユニットテストのみ
bun run test:unit

# E2Eテストのみ
bun run test:e2e

# カバレッジ付きテスト
bun run test:coverage
```

## CI/CD統合

GitHub Actionsで以下のタイミングでテストを実行：
- プルリクエスト作成時
- mainブランチへのプッシュ時
- 定期実行（週次）