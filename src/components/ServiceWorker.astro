---
// Service Worker は本番環境でのみ有効化
const isProduction = import.meta.env.PROD;
---

{isProduction && (
	<script is:inline>
		// Service Worker registration
		if ('serviceWorker' in navigator) {
			window.addEventListener('load', () => {
				navigator.serviceWorker.register('/blog/sw.js')
					.then((registration) => {
						console.log('Service Worker registered:', registration.scope);
					})
					.catch((error) => {
						console.log('Service Worker registration failed:', error);
					});
			});
		}
	</script>
)}